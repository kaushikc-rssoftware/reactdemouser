name: hello-world
on: 
    push:
        branches:
            - master
    pull_request:
        branches:
            - master
    
jobs:
    steps:
        name: Build
        runs-on: ubuntu-latest
        -name: "Checkout code and build"
            uses: actions/checkout@v2
        -name: Install Node
        uses: actions/setup-node@v1
        with:
            node-version 16.x
        -name: "Install NPM dependency"
        run: npm i 
        -name: "Build Project"
        run: npm run build
        -name: "Upload Artifacts"
        uses: actions/upload-artifacts@v2
        with:
            name: production-files
            path: ./dist
    deploy:
        name: Deploy
        runs-on: ubuntu-latest
        needs: build
        steps: 
            - name: Download-Artifact
              uses: actions/download-artifact@v2
              with: 
                name: production-files
                path: ./dist
            - name: Deploy to gh pages
              uses: peaceiris/actions-gh-pages@v3
              with:
                github_token: ${{ secrets.GH_ACCESS_TOKEN }}
                publish_dir: ./dist
              
            
    

    
    
